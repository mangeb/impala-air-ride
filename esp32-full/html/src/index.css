/* Fonts: using system fallbacks for offline ESP32 AP mode */
/* Google Fonts would require internet - not available on ESP32 AP */
@import "tailwindcss";

@theme {
  --font-sans: "Space Grotesk", ui-sans-serif, system-ui, sans-serif;
  --font-serif: "Playfair Display", serif;
  --font-mono: "JetBrains Mono", ui-monospace, SFMono-Regular, monospace;

  --color-impala-black: #020202;
  --color-impala-chrome: #f3f4f6;
  --color-impala-silver: #9ca3af;
  --color-impala-red: #cc0000;
  --color-impala-cream: #fdfbf7;
}

@layer base {
  body {
    @apply bg-impala-black text-impala-chrome font-sans overflow-hidden;
    background-image: radial-gradient(circle at center, #0a0a0a 0%, #020202 100%);
    overscroll-behavior: none;
    -webkit-overflow-scrolling: touch;
    /* Safe area insets for iPhone notch/home indicator */
    padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
  }

  /* Prevent text selection on long-press for hold buttons */
  button, [role="button"] {
    -webkit-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
    touch-action: manipulation;
  }
}

/* Responsive gauge sizing via CSS custom properties */
:root {
  /* Mobile: dynamic gauge size based on viewport to fill available space.
     Width limit: 2 gauges per row â†’ ~40vw each.
     Height limit: 2 rows + tank panel + controls must fit in viewport. */
  --gauge-size: min(40vw, 24dvh);
  --gauge-mark-origin: calc(var(--gauge-size) * 0.475);
  --gauge-needle-major-h: calc(var(--gauge-size) * 0.44);
  --gauge-needle-minor-h: calc(var(--gauge-size) * 0.285);
  --gauge-readout-bottom: calc(var(--gauge-size) * 0.07);
  --gauge-readout-size: calc(var(--gauge-size) * 0.13);
  --gauge-label-radius: calc(var(--gauge-size) * 0.27);
}
@media (min-width: 640px) {
  :root {
    /* Desktop: 192px gauges */
    --gauge-size: 12rem;
    --gauge-mark-origin: 92px;
    --gauge-needle-major-h: 88px;
    --gauge-needle-minor-h: 56px;
    --gauge-readout-bottom: 1.5rem;
    --gauge-readout-size: 1.5rem;
    --gauge-label-radius: calc(var(--gauge-size) * 0.33);
  }
}

.engine-turned {
  background-color: #d1d5db;
  background-image: 
    radial-gradient(circle at 50% 50%, rgba(255,255,255,0.4) 0%, transparent 60%),
    radial-gradient(circle at 0% 0%, rgba(0,0,0,0.1) 0%, transparent 50%);
  background-size: 40px 40px;
  background-position: 0 0, 20px 20px;
  box-shadow: inset 0 0 20px rgba(0,0,0,0.2);
}

.vinyl-texture {
  background-color: #050505;
  /* CSS-only leather texture - no external URL needed for offline ESP32 AP */
  background-image:
    repeating-linear-gradient(45deg, rgba(255,255,255,0.02) 0px, rgba(255,255,255,0.02) 1px, transparent 1px, transparent 4px),
    repeating-linear-gradient(-45deg, rgba(0,0,0,0.05) 0px, rgba(0,0,0,0.05) 1px, transparent 1px, transparent 4px);
  box-shadow: inset 0 0 60px rgba(0,0,0,0.95);
}

.chrome-trim {
  border: 2px solid #e5e7eb;
  box-shadow: 
    0 2px 4px rgba(0,0,0,0.5),
    inset 0 1px 0 rgba(255,255,255,0.8),
    inset 0 -1px 0 rgba(0,0,0,0.2);
  background: linear-gradient(to bottom, #ffffff 0%, #d1d5db 50%, #9ca3af 100%);
}

.pinstripe {
  border: 1px solid rgba(255,255,255,0.15);
}

.gauge-shadow {
  box-shadow: inset 0 4px 8px rgba(0, 0, 0, 0.4), 0 2px 2px rgba(255, 255, 255, 0.1);
}

.knob-shadow {
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.5), inset 0 1px 1px rgba(255, 255, 255, 0.8);
}
